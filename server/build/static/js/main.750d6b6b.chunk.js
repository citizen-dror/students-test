(this["webpackJsonpmeitav-dash"]=this["webpackJsonpmeitav-dash"]||[]).push([[0],{179:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(25),i=n.n(c),s=(n(87),n(88),n(29)),l=n(12),o=n(26),d=n(28),j=n(21),u=n(11),b=n(82),h=n(77),O=n.n(h),f=(n(89),n(51),n(1)),x=function(e){var t=e.children,n=e.header,r=e.style,a=n?Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)("h6",{children:n})," ",Object(f.jsx)("hr",{})," "]}):null;return Object(f.jsxs)("div",{style:r,className:" p-3 bg-white rounded shadow",children:[a,t]})},m=function(e){var t=e.onChange,n=e.data,r=e.keyProp,a=e.valProp,c=e.isInvalid,i=e.value;return Object(f.jsx)(u.a.Control,{as:"select",onChange:t,value:i,isInvalid:c,children:n.map((function(e){return Object(f.jsx)("option",{value:e[r],children:e[a]},e[r])}))})},p=n(18),v=n.n(p),y=n(27),_=n(34),g=new function e(){Object(_.a)(this,e),this.getAll=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/cities/",e.next=3,fetch("/api/v1/cities/",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 3:if((t=e.sent).ok){e.next=6;break}return e.abrupt("return",[]);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})))},C=new function e(){Object(_.a)(this,e),this.getAll=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/students/",e.next=3,fetch("/api/v1/students/",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 3:if((t=e.sent).ok){e.next=6;break}return e.abrupt("return",[]);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)}))),this.postStudent=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/students/add",n=JSON.stringify(t),e.next=4,fetch("/api/v1/students/add",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:n});case 4:if((r=e.sent).ok){e.next=7;break}return e.abrupt("return",[]);case 7:return e.abrupt("return",r.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(e){return e.match(/^[-\u0590-\u05FF]+$/)},F=function(e,t){var n=""+(e.getMonth()+1),r=""+e.getDate(),a=e.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),t?[a,n,r].join("-"):[r,n,a].join("/")},I=function(e){var t=function(e){return new Date(e)}(e);return F(t,!1)},w=function(){var e=Object(r.useState)({}),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({}),i=Object(j.a)(c,2),s=i[0],l=i[1],h=Object(r.useState)(new Date),p=Object(j.a)(h,2),v=p[0],y=p[1],_=Object(r.useState)([]),I=Object(j.a)(_,2),w=I[0],N=I[1];Object(r.useEffect)((function(){g.getAll().then((function(e){null!==e&&void 0!==e&&(e.unshift({city_id:0,city_name:"\u05d1\u05d7\u05e8 \u05e2\u05d9\u05e8"}),N(e))}))}),[]);var S=function(e,t){a(Object(d.a)(Object(d.a)({},n),{},Object(o.a)({},e,t))),s[e]&&l(Object(d.a)(Object(d.a)({},s),{},Object(o.a)({},e,null)))},D=function(){var e=n.first_name,t=n.last_name,r=n.israel_id,a=n.city_id,c={};return e&&""!==e?k(e)?e.length>20&&(c.first_name="First Name is too long!"):c.first_name="First Name should be in hebrew!":c.first_name="First Name cannot be blank!",t&&""!==t?k(t)?t.length>20&&(c.last_name="Last Name is too long!"):c.last_name="Last Name should be in hebrew!":c.last_name="Last Name cannot be blank!",r?!function(e){var t=parseInt(e,10);return!isNaN(t)}(r)?c.last_name="ID should conatin digits":9!==r.length&&(c.israel_id="ID must have 9 digits"):c.israel_id="ID cannotbe blank!",a&&"0"!==a||(c.city_id="Please Pick a City!"),c},L={div1:{display:"flex",alignItems:"center",justifyContent:"center"},card:{width:400,display:"flex",alignItems:"center",justifyContent:"center"}};return Object(f.jsx)("div",{style:L.div1,children:Object(f.jsx)(x,{style:L.card,children:Object(f.jsxs)(u.a,{children:[Object(f.jsxs)(u.a.Group,{controlId:"studentsForm.first_name",children:[Object(f.jsx)(u.a.Label,{children:"First Name: "}),Object(f.jsx)(u.a.Control,{type:"text",onChange:function(e){return S("first_name",e.target.value)},isInvalid:!!s.first_name}),Object(f.jsx)(u.a.Control.Feedback,{type:"invalid",children:s.first_name})]}),Object(f.jsxs)(u.a.Group,{controlId:"studentsForm.last_name",children:[Object(f.jsx)(u.a.Label,{children:"Last Name: "}),Object(f.jsx)(u.a.Control,{type:"text",onChange:function(e){return S("last_name",e.target.value)},isInvalid:!!s.last_name}),Object(f.jsx)(u.a.Control.Feedback,{type:"invalid",children:s.last_name})]}),Object(f.jsxs)(u.a.Group,{controlId:"studentsForm.dateBirth",children:[Object(f.jsx)(u.a.Label,{children:"Date Of Birth: "}),Object(f.jsx)("br",{}),Object(f.jsx)(O.a,{className:"form-control",selected:v,onChange:function(e){return function(e){e&&e instanceof Date&&y(e)}(e)}}),Object(f.jsx)(u.a.Control.Feedback,{type:"invalid",children:s.birth_date})]}),Object(f.jsxs)(u.a.Group,{controlId:"studentsForm.israel_id",children:[Object(f.jsx)(u.a.Label,{children:"Israel ID: "}),Object(f.jsx)(u.a.Control,{type:"text",onChange:function(e){return S("israel_id",e.target.value)},isInvalid:!!s.israel_id}),Object(f.jsx)(u.a.Control.Feedback,{type:"invalid",children:s.israel_id})]}),Object(f.jsxs)(u.a.Group,{controlId:"studentsForm.city_id",children:[Object(f.jsx)(u.a.Label,{children:"City: "}),Object(f.jsx)(m,{data:w,keyProp:"city_id",valProp:"city_name",onChange:function(e){S("city_id",e.target.value)},isInvalid:!!s.city_id}),Object(f.jsx)(u.a.Control.Feedback,{type:"invalid",children:s.city_id})]}),Object(f.jsx)(b.a,{variant:"primary",onClick:function(e){e.preventDefault();var t=D();if(Object.keys(t).length>0)l(t);else{var r=n.first_name,a=n.last_name,c=n.israel_id,i=n.city_id,s={first_name:r,last_name:a,israel_id:c,birth_date:F(v,!0),city_id:i};C.postStudent(s),alert("Thank you for your feedback!")}},children:"Save"})," "]})})})},N=n(80),S=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){C.getAll().then((function(e){null!==e&&void 0!==e&&a(e)}))}),[]),Object(f.jsx)(x,{children:Object(f.jsxs)(N.a,{striped:!0,responsive:!0,bordered:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"First Name"}),Object(f.jsx)("th",{children:"Last Name"}),Object(f.jsx)("th",{children:"Birth Date"}),Object(f.jsx)("th",{children:"Id"}),Object(f.jsx)("th",{children:"City"})]})}),Object(f.jsx)("tbody",{children:n.map((function(e){var t=I(e.birth_date);return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:e.first_name}),Object(f.jsx)("td",{children:e.last_name}),Object(f.jsx)("td",{children:t}),Object(f.jsx)("td",{children:e.israel_id}),Object(f.jsx)("td",{children:e.city_name})]},e.id)}))})]})})};function D(){return Object(f.jsx)("h2",{children:"Home"})}var L=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(s.a,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(s.b,{to:"/",children:"Home"})}),Object(f.jsx)("li",{children:Object(f.jsx)(s.b,{to:"/form",children:"Students Form"})}),Object(f.jsx)("li",{children:Object(f.jsx)(s.b,{to:"/table",children:"Students Table"})})]})}),Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/form",children:Object(f.jsx)(w,{})}),Object(f.jsx)(l.a,{path:"/table",children:Object(f.jsx)(S,{})}),Object(f.jsx)(l.a,{path:"/",children:Object(f.jsx)(D,{})})]})]})})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,181)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(L,{})}),document.getElementById("root")),P()},87:function(e,t,n){},88:function(e,t,n){}},[[179,1,2]]]);
//# sourceMappingURL=main.750d6b6b.chunk.js.map